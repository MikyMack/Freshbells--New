{"version":3,"file":"static/js/488.7ba9bebb.chunk.js","mappings":"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","sources":["pages/Account/Otp.jsx"],"sourcesContent":["import React, { useState, useEffect } from \"react\";\r\nimport { BsCheckCircleFill, BsArrowLeft } from \"react-icons/bs\";\r\nimport { Link, useNavigate, useLocation } from \"react-router-dom\";\r\nimport { useDispatch } from 'react-redux';\r\nimport { ToastContainer, toast } from 'react-toastify';\r\nimport 'react-toastify/dist/ReactToastify.css';\r\nimport logo from \"../../assets/logo/logo.webp\"\r\nimport { OTP_ACTION, Resend_Otp_verify } from \"../../actions/AuthActions\";  \r\n\r\nconst OtpPage = () => {\r\n  const location = useLocation();\r\n  const userId = location.state?.user_id || \"\";\r\n  const [formData, setFormData] = useState({\r\n    otp: \"\",\r\n    user_id: userId\r\n  });\r\n  const [timeLeft, setTimeLeft] = useState(30);\r\n  const navigate = useNavigate();\r\n  const dispatch = useDispatch();\r\n\r\n  useEffect(() => {\r\n    if (timeLeft > 0) {\r\n      const timer = setTimeout(() => setTimeLeft(timeLeft - 1), 1000);\r\n      return () => clearTimeout(timer);\r\n    }\r\n  }, [timeLeft]);\r\n\r\n  const handleChange = (e) => {\r\n    setFormData({\r\n      ...formData,\r\n      [e.target.id]: e.target.value,\r\n    });\r\n  };\r\n\r\n  const handleResendOTP = async () => {\r\n    setTimeLeft(30);\r\n    try {\r\n      const response = await Resend_Otp_verify({ user_id: userId });\r\n      if (response.status === true) {\r\n        toast.info(\"OTP has been resent.\");\r\n      } else {\r\n        toast.error(\"Failed to resend OTP.\");\r\n      }\r\n    } catch (error) {\r\n      console.error('Resend OTP failed:', error);\r\n      toast.error(\"Failed to resend OTP.\");\r\n    }\r\n  };\r\n\r\n  const handleSubmit = async (e) => {\r\n    e.preventDefault();\r\n    if (formData.otp) {\r\n      try {\r\n        const response = await OTP_ACTION(formData);\r\n        if (response.status === true) {\r\n          dispatch({ type: 'SET_AUTH_STATE' });\r\n          navigate('/signin');\r\n        } else {\r\n          navigate('/signup');\r\n        }\r\n      } catch (error) {\r\n        console.error('OTP verification failed:', error);\r\n        toast.error(\"OTP verification failed. Enter valid OTP.\");\r\n      }\r\n    } else {\r\n      toast.error(\"Please enter OTP.\");\r\n    }\r\n  };\r\n\r\n\r\n  return (\r\n    <div className=\"w-full h-screen flex items-center justify-center\">\r\n         <ToastContainer position=\"top-right\" autoClose={5000} hideProgressBar={false} newestOnTop={false} closeOnClick rtl={false} pauseOnFocusLoss draggable pauseOnHover />\r\n      <div className=\"w-1/2 hidden lgl:inline-flex h-full text-primeColor\">\r\n        <div className=\"w-[450px] h-full bg-[#bbe6b9] px-10 flex flex-col gap-6 justify-center\">\r\n          <Link to=\"/\">\r\n            <img src={logo} alt=\"logoImg\" className=\"w-28\" />\r\n          </Link>\r\n          <div className=\"flex flex-col gap-1 -mt-1\">\r\n            <h1 className=\"font-titleFont text-xl font-medium\">\r\n              OTP Page\r\n            </h1>\r\n            <p className=\"text-base\">Enter your otp here...</p>\r\n          </div>\r\n          <div className=\"w-[300px] flex items-start gap-3\">\r\n            <span className=\"text-green-500 mt-1\">\r\n              <BsCheckCircleFill />\r\n            </span>\r\n            <p className=\"text-base text-primeColor\">\r\n              <span className=\"text-primeColor font-semibold font-titleFont\">\r\n                Get started fast with FRESH BELLS\r\n              </span>\r\n              <br />\r\n              Lorem ipsum, dolor sit amet consectetur adipisicing elit. Ab omnis\r\n              nisi dolor recusandae consectetur!\r\n            </p>\r\n          </div>\r\n          <div className=\"w-[300px] flex items-start gap-3\">\r\n            <span className=\"text-green-500 mt-1\">\r\n              <BsCheckCircleFill />\r\n            </span>\r\n            <p className=\"text-base text-primeColor\">\r\n              <span className=\"text-primeColor font-semibold font-titleFont\">\r\n                Access all FRESH BELLS services\r\n              </span>\r\n              <br />\r\n              Lorem ipsum, dolor sit amet consectetur adipisicing elit. Ab omnis\r\n              nisi dolor recusandae consectetur!\r\n            </p>\r\n          </div>\r\n          <div className=\"w-[300px] flex items-start gap-3\">\r\n            <span className=\"text-green-500 mt-1\">\r\n              <BsCheckCircleFill />\r\n            </span>\r\n            <p className=\"text-base text-primeColor\">\r\n              <span className=\"text-primeColor font-semibold font-titleFont\">\r\n                Trusted by online Shoppers\r\n              </span>\r\n              <br />\r\n              Lorem ipsum, dolor sit amet consectetur adipisicing elit. Ab omnis\r\n              nisi dolor recusandae consectetur!\r\n            </p>\r\n          </div>\r\n          <div className=\"flex items-center justify-between mt-10\">\r\n            <p className=\"text-sm font-titleFont font-semibold text-primeColor hover:text-white cursor-pointer duration-300\">\r\n              Â© FRESH BELLS\r\n            </p>\r\n            <p className=\"text-sm font-titleFont font-semibold text-primeColor hover:text-white cursor-pointer duration-300\">\r\n              Terms\r\n            </p>\r\n            <p className=\"text-sm font-titleFont font-semibold text-primeColor hover:text-white cursor-pointer duration-300\">\r\n              Privacy\r\n            </p>\r\n            <p className=\"text-sm font-titleFont font-semibold text-primeColor hover:text-white cursor-pointer duration-300\">\r\n              Security\r\n            </p>\r\n          </div>\r\n        </div>\r\n      </div>\r\n      <div className=\"w-full lgl:w-1/2 h-full\">\r\n        <form className=\"w-full lgl:w-[450px] h-screen flex items-center justify-center\" onSubmit={handleSubmit}>\r\n          <div className=\"px-6 py-4 w-full h-[90%] flex flex-col justify-center overflow-y-scroll scrollbar-thin scrollbar-thumb-primeColor\">\r\n         \r\n            <h1 className=\"font-titleFont underline underline-offset-4 decoration-[1px] font-semibold text-3xl mdl:text-4xl mb-4\">\r\n              Enter OTP\r\n            </h1>\r\n            <div className=\"flex flex-col gap-3\">\r\n              {/* OTP Input */}\r\n              <div className=\"flex flex-col gap-.5\">\r\n                <p className=\"font-titleFont text-base font-semibold text-gray-600\">\r\n                  OTP\r\n                </p>\r\n                <input\r\n                  id=\"otp\"\r\n                  onChange={handleChange}\r\n                  value={formData.otp}\r\n                  className=\"w-full h-8 placeholder:text-sm placeholder:tracking-wide px-4 text-base font-medium placeholder:font-normal rounded-md border-[1px] border-gray-400 outline-none\"\r\n                  type=\"text\"\r\n                  placeholder=\"Enter your OTP\"\r\n                />\r\n              </div> \r\n              <button\r\n                type=\"submit\"\r\n                className=\"bg-primeColor hover:bg-black text-gray-200 hover:text-white cursor-pointer w-full text-base font-medium h-10 rounded-md duration-300\"\r\n              >\r\n                Verify OTP\r\n              </button>\r\n              <div className=\"mt-4 text-center\">\r\n                <button\r\n                  disabled={timeLeft !== 0}\r\n                  onClick={handleResendOTP}\r\n                  className={`text-sm font-titleFont font-medium ${timeLeft ? 'text-gray-500' : 'text-blue-600 hover:text-blue-800'} duration-300`}\r\n                >\r\n                  {timeLeft ? `Resend OTP in ${timeLeft} seconds` : 'Resend OTP'}\r\n                </button>\r\n              </div>\r\n              <div className=\"inline text-center mt-2\">\r\n                <Link to='/signin'>\r\n                  <button className=\"text-center text-primeColor hover:text-black font-titleFont font-medium duration-300\">\r\n                    <BsArrowLeft className=\"inline-block \" /> Back to Sign In\r\n                  </button>\r\n                </Link>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </form>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default OtpPage;\r\n"],"names":["userId","useLocation","state","user_id","formData","setFormData","useState","otp","timeLeft","setTimeLeft","navigate","useNavigate","dispatch","useDispatch","useEffect","timer","setTimeout","clearTimeout","className","position","autoClose","hideProgressBar","newestOnTop","closeOnClick","rtl","pauseOnFocusLoss","draggable","pauseOnHover","to","src","logo","alt","onSubmit","async","e","preventDefault","OTP_ACTION","status","type","error","console","toast","id","onChange","target","value","placeholder","disabled","onClick","Resend_Otp_verify"],"sourceRoot":""}